<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>resume</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="style1.css" rel="stylesheet" />

</head>

<body>
    <div class="resume bg-light ">
        <h1 class="text-center">Resume</h1>
        <div class="container p-5 ">
            <div class="container1">
                <div class="mb-3 row">
                    <label for="Name" class="col-sm-2 col-form-label">Name:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="name" onkeyup="addValue(this,'name',null)" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Objective:</label>
                    <div class="col-sm-6">
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="Leave a comment here" id="objective"
                                style="height: 100px" onkeyup="addValue(this,'objective',null)"></textarea>
                            <label for="floatingTextarea2"></label>
                        </div>
                    </div>
                </div>
                <h2>personal_details</h2>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Email:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="email"
                            onkeyup="addValue(this,'email','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Father's Name:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="fathername"
                            onkeyup="addValue(this,'father_name','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Mother's Name:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="mothername"
                            onkeyup="addValue(this,'mother_name','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">DOB:</label>
                    <div class="col-sm-6">
                        <input type="number" class="form-control" id="name"
                            onkeyup="addValue(this,'dob','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Gender:</label>
                    <div class="col-sm-5 mt-2">
                        <!-- <input type="text" class="form-control" id="inputName"> -->
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1"
                                value="option1" />
                            <label class="form-check-label" for="inlineRadio1">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2"
                                value="option2" />
                            <label class="form-check-label" for="inlineRadio2">Female</label>
                        </div>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Nationality:</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="inputName"
                            onkeyup="addValue(this,'nationality','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Phone:</label>
                    <div class="col-sm-6">
                        <input type="number" class="form-control" id="inputName"
                            onkeyup="addValue(this,'phone','personal_details')" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Address:</label>
                    <div class="col-sm-6">
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="Leave a comment here" id="address"
                                style="height: 100px" onkeyup="addValue(this,'address','personal_details')"></textarea>
                            <label for="floatingTextarea2"></label>
                        </div>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="inputName" class="col-sm-2 col-form-label">Marital status:</label>
                    <div class="col-sm-6">
                        <!-- <input type="text" class="form-control" id="inputName"> -->
                        <select class="form-select" aria-label="Default select example">
                            <option selected>Status</option>
                            <option value="1">Single</option>
                            <option value="2">Married</option>
                        </select>
                    </div>
                </div>
            </div>

            <h2>Education:</h2>
            <div class="row">
                <div class="col-3">
                    <input type="text" id="course_institute" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder=" course_institute">
                </div>
                <div class="col-3">
                    <input type="text" id="course_name" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="course_name">
                </div>
                <div class="col-3">
                    <input type="number" id="course_year" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="course_year">
                </div>
                <div class="col-3">
                    <input type="number" id="course_percentage" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="course_percentage">
                </div>
                <div class="mt-2">
                    <button
                        onclick="addMultiValue('education','course_institute','course_name','course_year','course_percentage')">Add</button>
                </div>
            </div>




            <h2 class="mt-2">Skills:</h2>
            <div class="row">
                <div class="col-3 mt-1">
                    <input type="text" id="skills" placeholder="skills" /> <button
                        onclick="addArrayValue('skills')">Add</button>

                </div>
            </div>
            <h2 class="mt-2">Hobbies:</h2>
            <div class="row">
                <div class="col-3 mt-1">
                    <input type="text" id="hobbies" placeholder="hobbies" />
                     <button
                        onclick="addArrayValue('hobbies')">Add</button>

                </div>
            </div>

            <h2 class="mt-2">Languages:</h2>
            <div class="row">
                <div class="col-3">
                    <input type="text" id="language" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="language" /><button onclick="addArrayValue('language')">Add</button>
                </div>

            </div>
            <h2 class="mt-2">Certification:</h2>
            <div class="row">
                <div class="col-3">
                    <input type="text" id="course" class="form-control" aria-describedby="passwordHelpInline"
                    placeholder="course_name">
                </div>
                
                <div class="col-3">
                    <input type="text" id="institute" class="form-control" aria-describedby="passwordHelpInline"
                    placeholder="course_institute">
                </div>
                <div class="col-3">
                    <input type="number" id="cert_year" class="form-control" aria-describedby="passwordHelpInline"
                    placeholder="course_year">
                </div>
                <div class="col-3">
                    <input type="text" id="place" class="form-control" aria-describedby="passwordHelpInline"
                    placeholder="course_place">
                </div>
                <div class="col-2 mt-2">
                    <div class="mt-2">
                        <button
                            onclick="addMultiValue('certification','course','institute','cert_year','place')">Add</button>
                    </div>

                </div>
                <h2 class="mt-2">Work Experience:</h2>
                <div class="row">
                    <div class="col-4">
                        <input type="text" id="company_name" class="form-control"
                            aria-describedby="passwordHelpInline" placeholder="company_name">
                    </div>
                    <div class="col-4">
                        <input type="number" id="experience" class="form-control"
                            aria-describedby="passwordHelpInline" placeholder="experience">
                    </div>
                    <div class="col-4">
                        <input type="number" id="project_year" class="form-control"
                            aria-describedby="passwordHelpInline" placeholder="year">
                    </div>
                    <div class="mt-2">
                        <button
                            onclick="addMultiValue('work_experience','company_name','experience','project_year')">Add</button>
                    </div>
                    
                </div>
                <h2 class="mt-2">Projects:</h2>
                <div class="row">
                    <div class="col-3">
                        <input type="text" id="project_title" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="project_title">
                    </div>
                    <div class="col-3">
                        <input type="text" id="project_name" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="project_name">
                    </div>
                    <div class="col-3">
                        <input type="number" id="project_years" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="project_year">
                    </div>
                    <div class="col-3 ">
                        <input type="text" id="project_discription" class="form-control" aria-describedby="passwordHelpInline"
                        placeholder="project_discription">
                    </div>
                    <div class="mt-2">
                        <button
                            onclick="addMultiValue('project','project_title','project_name','project_years','project_discription')">Add</button>
                    </div>
                </div>
                
                <h2 class="mt-2">Declaration:</h2>
                <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="gridCheck">
                        <label class="form-check-label" for="gridCheck">
                            I hereby declare that the facts given above are genuine to the best of my knowledge and
                            belief
                        </label>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="Date" class="col-sm-2 col-form-label">Date</label>
                    <div class="col-3 mt-2">
                        <input type="date" class="form-control" id="date" onkeyup="addValue(this,'date',null)" />
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="Place" class="col-sm-2 col-form-label">Place</label>
                    <div class="col-3 mt-1">
                        <input type="Place" class="form-control" id="places" onkeyup="addValue(this,'places',null)" />
                    </div>
                </div >
                    <input class="btn btn-primary"  type="text" value="submit" id="submit">
            </div>
        </div>

        <section>
            <code id="output"></code>
        </section>

        <script type="module">
            let resume = {
                personal_details: {},
                skills: [],
                hobbies: [],
                language:[],
                education: [],
                project: [],
                certification:[],
                work_experience:[]


            }
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
            import {getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyAHzaVggqJOFguy0dQzIQ-eFiHPOqyyREA",
                authDomain: "resume-builder-c1a54.firebaseapp.com",
                projectId: "resume-builder-c1a54",
                storageBucket: "resume-builder-c1a54.firebasestorage.app",
                messagingSenderId: "712885364038",
                appId: "1:712885364038:web:857681fb361a9ec063b147"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);

            //   get ref to database service
            const db = getDatabase(app);
            document.getElementById("submit").addEventListener('click', function (e) {
                e.preventDefault();
                set(ref(db, 'user/' + document.getElementById("name").value),
                    {
                        Name: document.getElementById("name").value,
                        Objective: document.getElementById("objective").value,
                        Place: document.getElementById("places").value,
                        Date: document.getElementById("date").value,
                        education:JSON.stringify(resume.education),
                        project:JSON.stringify(resume.project),
                        certification:JSON.stringify(resume.certification),
                        hobbies:JSON.stringify(resume.hobbies),
                        language:JSON.stringify(resume.language),
                        skills:JSON.stringify(resume.skills),
                        work_experience:JSON.stringify(resume.work_experience),

                    });
                alert("login successful !");
            })

            

            function addValue(e, key, p_key) {
                if (p_key) {
                    console.log(p_key)
                    resume[p_key][key] = e.value;
                } else {
                    resume[key] = e.value;
                }
                display_output();
            }
    
            function addArrayValue(key) {
                let value = document.getElementById(key).value;
                resume[key].push(value);
                document.getElementById(key).value = "";
                display_output();
            }
            window.addArrayValue=addArrayValue;
            function addMultiValue(p_key, key1, key2, key3, key4) {
                let newObj = {};
                if(key4)
            {
                newObj[key1] = document.getElementById(key1).value;
                newObj[key2] = document.getElementById(key2).value;
                newObj[key3] = document.getElementById(key3).value;
                newObj[key4] = document.getElementById(key4).value;
                resume[p_key].push(newObj)
                document.getElementById(key1).value = "";
                document.getElementById(key2).value = "";
                document.getElementById(key3).value = "";
                document.getElementById(key4).value = "";
            }
            else if(key3){
                newObj[key1] = document.getElementById(key1).value;
                newObj[key2] = document.getElementById(key2).value;
                newObj[key3] = document.getElementById(key3).value;
                resume[p_key].push(newObj)
                document.getElementById(key1).value = "";
                document.getElementById(key2).value = "";
                document.getElementById(key3).value = "";

            }
                display_output()
            }
            
            window.addMultiValue=addMultiValue


            function display_output() {
                document.getElementById('output').innerHTML = JSON.stringify(resume)
            }
           
        </script>

</body>

</html>